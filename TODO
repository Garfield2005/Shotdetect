TODO:

- Clean the code with google styleguide
- Migrate to a better build system
- Integrate patches from various contributors
